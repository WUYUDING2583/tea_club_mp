<!--pages/order/reservationList/index.wxml-->
<wxs src="../../tool.wxs" module="tool" />
<import src="./template.wxml" />
<cu-custom bgColor="bg-gradual-blue" isBack="{{true}}">
  <view slot="backText">返回</view>
  <view slot="content">我的预约</view>
</cu-custom>


<view class="swiper-tab fixed" style="top:{{CustomBar}}px;">
  <view class="bre swiper-tab-list {{tab==0 ? 'on' : ''}}" data-current="0" bindtap="tab_click">待付款</view>
  <view class="swiper-tab-list {{tab==1 ? 'on' : ''}}" data-current="1" bindtap="tab_click">待进行</view>
  <view class="swiper-tab-list {{tab==2 ? 'on' : ''}}" data-current="2" bindtap="tab_click">已完成</view>
  <view class="swiper-tab-list {{tab==3 ? 'on' : ''}}" data-current="3" bindtap="tab_click">退款</view>
</view>


<swiper current="{{tab}}" class="swiper-box" duration="300" style="height:calc(100vh - {{CustomBar}}px - 50px)" bindchange="tab_slide">
  <swiper-item>
    <scroll-view scroll-y style="height:100%;" bindscrolltolower="scrollToBottom">
      <view wx:for="{{reservationsUnpay}}" wx:key="unique">
        <template is="reservationCard" data="{{...byReservationsUnpay[item]}}"></template>
      </view>
      <view class="text-grey text-center padding-xl" style="height:100%;" wx:if="{{reservationsUnpay.length==0}}">
        <view class="cu-avatar xl round margin-top-xl">
          <view class="cuIcon-discover text-blue margin"></view>
        </view>
        <view class="text-lg margin">您没有相关的订单</view>
      </view>
      <view class="text-grey text-center" wx:elif="{{isBottom}}">没有啦.....</view>
    </scroll-view>
  </swiper-item>

  <swiper-item>
    <scroll-view scroll-y style="height:100%;" bindscrolltolower="scrollToBottom">
      <view wx:for="{{reservationsPayed}}" wx:key="unique">
        <template is="reservationCard" data="{{...byReservationsPayed[item]}}"></template>
      </view>
      <view class="text-grey text-center padding-xl" style="height:100%;" wx:if="{{reservationsPayed.length==0}}">
        <view class="cu-avatar xl round margin-top-xl">
          <view class="cuIcon-discover text-blue margin"></view>
        </view>
        <view class="text-lg margin">您没有相关的订单</view>
      </view>
      <view class="text-grey text-center" wx:elif="{{isBottom}}">没有啦.....</view>
    </scroll-view>
  </swiper-item>

  <swiper-item>
    <scroll-view scroll-y style="height:100%;" bindscrolltolower="scrollToBottom">
      <view wx:for="{{reservationsComplete}}" wx:key="unique">
        <template is="reservationCard" data="{{...byReservationsComplete[item]}}"></template>
      </view>
      <view class="text-grey text-center padding-xl" style="height:100%;" wx:if="{{reservationsComplete.length==0}}">
        <view class="cu-avatar xl round margin-top-xl">
          <view class="cuIcon-discover text-blue margin"></view>
        </view>
        <view class="text-lg margin">您没有相关的订单</view>
      </view>
      <view class="text-grey text-center" wx:elif="{{isBottom}}">没有啦.....</view>
    </scroll-view>
  </swiper-item>

  <swiper-item>
    <scroll-view scroll-y style="height:100%;" bindscrolltolower="scrollToBottom">
      <view wx:for="{{reservationsRefund}}" wx:key="unique">
        <template is="reservationCard" data="{{...byReservationsRefund[item]}}"></template>
      </view>
      <view class="text-grey text-center padding-xl" style="height:100%;" wx:if="{{reservationsRefund.length==0}}">
        <view class="cu-avatar xl round margin-top-xl">
          <view class="cuIcon-discover text-blue margin"></view>
        </view>
        <view class="text-lg margin">您没有相关的订单</view>
      </view>
      <view class="text-grey text-center" wx:elif="{{isBottom}}">没有啦.....</view>
    </scroll-view>
  </swiper-item>

</swiper>